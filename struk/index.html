<!DOCTYPE html>
<html lang="id">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>Kwitansi Rumah Nenek Laundry</title>
  <style>
    body {
      font-family: monospace;
      background: #f8f8f8;
      padding: 16px;
    }
    .card {
      background: #fff;
      padding: 16px;
      border-radius: 8px;
      box-shadow: 0 2px 5px rgba(0,0,0,0.1);
      max-width: 380px;
      margin: auto;
    }
    input, textarea, button {
      width: 100%;
      margin-top: 8px;
      padding: 8px;
      font-family: inherit;
      font-size: 14px;
    }
    button {
      border: none;
      border-radius: 6px;
      background: #007bff;
      color: white;
      cursor: pointer;
    }
    button:hover {
      background: #0056b3;
    }
    pre {
      background: #eee;
      padding: 10px;
      border-radius: 6px;
      white-space: pre-wrap;
      margin-top: 12px;
    }
  </style>
</head>
<body>
  <div class="card">
    <h3>Kwitansi Rumah Nenek Laundry</h3>
    <label>No Struk</label>
    <input type="text" id="nostruk" placeholder="Contoh: 001" />

    <label>Nama</label>
    <input type="text" id="nama" placeholder="Nama pelanggan" />

    <label>Catatan</label>
    <textarea id="catatan" placeholder="Catatan tambahan..."></textarea>

    <label>Total (Rp)</label>
    <input type="number" id="total" placeholder="0" />

    <button onclick="copyKwitansi()">ðŸ“‹ Salin Kwitansi</button>
    <button onclick="shareWA()">ðŸ“¤ Bagikan via WhatsApp</button>

    <pre id="preview"></pre>
  </div>

  <script>
    function buildKwitansi() {
      const no = document.getElementById("nostruk").value || "-";
      const nama = document.getElementById("nama").value || "-";
      const catatan = document.getElementById("catatan").value || "-";
      const total = document.getElementById("total").value || "0";

      const teks = 
`Rumah Nenek Laundry Cariu
Jl. Mashudi No 10
Samping Klinik Holistik
--------------------------------
No Struk : ${no}
Nama     : ${nama}
Catatan  : ${catatan}
Total    : Rp ${total}
--------------------------------
wa/dana 0895-6223-09251
a.n. Tita Juarsih`;

      document.getElementById("preview").textContent = teks;
      return teks;
    }

    function copyKwitansi() {
      const teks = buildKwitansi();
      navigator.clipboard.writeText(teks).then(() => {
        alert("âœ… Kwitansi disalin ke clipboard!");
      });
    }

    function shareWA() {
      const teks = buildKwitansi();
      const url = "https://wa.me/?text=" + encodeURIComponent(teks);
      window.open(url, "_blank");
    }

    ["nostruk","nama","catatan","total"].forEach(id => {
      document.getElementById(id).addEventListener("input", buildKwitansi);
    });

    buildKwitansi();
  </script>
</body>
</html>