<!doctype html>
<html lang="id">
<head>
<meta charset="utf-8">
<meta name="viewport" content="width=device-width,initial-scale=1">
<title>Struk â€¢ Rumah Nenek Laundry</title>
<style>
body { font-family: monospace; margin:0; padding:12px; background:#f6f6f6; }
.card { max-width:720px; margin:0 auto; background:#fff; padding:12px; border-radius:6px; }
h2 { text-align:center; font-size:18px; margin:6px 0 12px; }
label { display:block; font-size:13px; margin-top:8px; }
input, textarea { width:100%; padding:8px; margin-top:4px; border:1px solid #ddd; border-radius:6px; font-size:15px; box-sizing:border-box; }
textarea { resize:vertical; }
.row { display:flex; gap:8px; }
.row > * { flex:1; }
button { padding:10px 12px; border:none; border-radius:6px; background:#1f8f8f; color:#fff; font-size:15px; margin-top:12px; width:100%; }
button.secondary { background:#4a5568; }
.muted { color:#666; font-size:13px; margin-top:6px; }
.preview { margin-top:12px; padding:10px; background:#fff; white-space:pre-wrap; }
.thermal { width:280px; max-width:280px; line-height:1.2; }
</style>
</head>
<body>
<div class="card">
<h2>Struk â€¢ Rumah Nenek Laundry</h2>

<label>Nama</label>
<input id="nama" placeholder="Nama pelanggan">

<label>Alamat</label>
<input id="alamat" placeholder="Alamat (opsional)">

<label>No WA</label>
<input id="nowa" placeholder="08xxxxxxxxxx">

<label>Keterangan</label>
<textarea id="ket" rows="2" placeholder="Jenis/berat/ket"></textarea>

<label>Total (Rp)</label>
<input id="total" type="number" placeholder="0">

<button id="previewBtn">Preview Struk</button>

<div id="previewArea" style="display:none;">
  <div class="preview thermal" id="previewBox"></div>
  <button id="copyBtn" class="secondary">Copy & Print</button>
</div>
</div>

<script>
function fmtCurrency(n){return Number(n||0).toLocaleString('id-ID');}
function buildPreview(){ 
  const data = {
    nama: document.getElementById('nama').value.trim(),
    alamat: document.getElementById('alamat').value.trim(),
    no_wa: document.getElementById('nowa').value.trim(),
    ket: document.getElementById('ket').value.trim(),
    total: document.getElementById('total').value.trim()
  };
  const lines = [];
  lines.push('    RUMAH NENEK LAUNDRY');
  lines.push('    WA: 0895622309251');
  lines.push('------------------------------');
  lines.push('Nama    : '+data.nama);
  if(data.alamat) lines.push('Alamat  : '+data.alamat);
  if(data.no_wa) lines.push('WA      : '+data.no_wa);
  if(data.ket) lines.push('Ket     : '+data.ket);
  lines.push('------------------------------');
  lines.push('Total   : Rp '+fmtCurrency(data.total));
  lines.push('------------------------------');
  lines.push('Terima kasih sudah mencuci di Rumah Nenek ðŸ’–');
  return lines.join('\n');
}

document.getElementById('previewBtn').addEventListener('click',()=>{
  const previewBox = document.getElementById('previewBox');
  previewBox.textContent = buildPreview();
  document.getElementById('previewArea').style.display='block';
});

document.getElementById('copyBtn').addEventListener('click',()=>{
  const text = document.getElementById('previewBox').textContent;
  navigator.clipboard.writeText(text).then(()=>{
    alert('Struk tersalin! Buka Mini Thermal dan paste untuk cetak.');
  });
});
</script>
</body>
</html>